<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dear Bunny</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <meta name="description" content="Dear Bunny - Your voice assistant and digital friend." />
  <link rel="icon" href="{{ url_for('static', filename='images/logo.jpg') }}">
</head>

<body class="bg-dark text-white">

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm sticky-top border-bottom border-pink">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center text-pink fw-bold" href="{{ url_for('home') }}">
        <img src="{{ url_for('static', filename='images/logo.jpg') }}" width="40" height="40" class="rounded-circle me-2" alt="Bunny Logo" />
        Dear Bunny
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarBunny">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarBunny">
        <ul class="navbar-nav ms-auto gap-2">
          <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('home') }}"><i class="bi bi-chat-dots"></i> Chat</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('notes') }}"><i class="bi bi-journal-text"></i> Notes</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('charts') }}"><i class="bi bi-graph-up"></i> Charts</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('todo') }}"><i class="bi bi-check2-square"></i> To-Do</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('schedule') }}"><i class="bi bi-calendar-week"></i> Schedule</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('reminders') }}"><i class="bi bi-bell"></i> Reminders</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('chat_history') }}"><i class="bi bi-clock-history"></i> History</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('stock_page') }}"><i class="bi bi-currency-rupee"></i> Stock Advisor</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="{{ url_for('settings') }}"><i class="bi bi-gear"></i> Settings</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Floating Bunny Avatar -->
  <div class="d-flex justify-content-center mt-4">
    <div class="bunny-ring-wrapper">
      <div class="pulse-ring ring1"></div>
      <div class="pulse-ring ring2"></div>
      <div class="pulse-ring ring3"></div>
      <div class="pulse-ring ring4"></div>

      <img src="{{ url_for('static', filename='images/dear_bunny-image.png') }}" class="bunny-avatar" alt="Dear Bunny">
    </div>
  </div>

 <!-- Live Gold Chart -->
<div class="container mt-4">
  <div class="card bg-dark border border-pink shadow">
    <div class="card-header text-pink fw-bold text-center">
      ðŸ“Š Live Gold Chart (XAUUSD)
    </div>
    <div class="card-body p-0">
      <div class="tradingview-widget-container">
        <div id="tradingview_gold"></div>
      </div>
    </div>
  </div>
</div>


  <!-- Chat Area -->
  <div class="container">
    <div id="chat-messages" class="p-3 rounded bg-secondary bg-opacity-10 mb-3" style="max-height: 400px; overflow-y: auto;"></div>
  </div>

  <!-- Input / Mic -->
  <div class="container my-4">
    <div class="d-flex justify-content-center align-items-center flex-wrap gap-2">

      <div class="position-relative w-50 me-2">
        <input id="chatbox" class="form-control form-control-lg pe-5" placeholder="Ask me anything..." />
        <i class="bi bi-send-fill position-absolute top-50 end-0 translate-middle-y me-3 text-pink" id="sendIcon" style="cursor: pointer; font-size: 20px;"></i>
      </div>

      <button id="MicBtn" class="btn btn-pink"><i class="bi bi-mic-fill"></i></button>

      <label for="imageUpload" class="btn btn-pink" title="Upload Image"><i class="bi bi-camera-fill"></i></label>
      <input type="file" id="imageUpload" accept="image/*" style="display:none;">
      <button id="toggleVoiceBtn" class="voice-round-btn"><i id="voiceToggleIcon" class="bi bi-pause-fill"></i></button>
      <button id="replayBtn" class="voice-round-btn"><i class="bi bi-arrow-counterclockwise"></i></button>

      

    </div>
  </div>

  <!-- New Chat Button -->
  <div class="text-center mt-3">
    <button onclick="startNewChat()" class="btn btn-outline-light"><i class="bi bi-plus-circle"></i> New Chat</button>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Firebase + App -->
  <script type="module" src="{{ url_for('static', filename='firebase.js') }}"></script>
  <script type="module" src="{{ url_for('static', filename='script.js') }}"></script>

  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>

  <!-- TradingView Widget -->
<script type="text/javascript">
new TradingView.widget({
  "width": "100%",
  "height": 300,
  "symbol": "OANDA:XAUUSD",
  "interval": "5",
  "timezone": "Etc/UTC",
  "theme": "dark",
  "style": "1",
  "locale": "en",
  "toolbar_bg": "#000000",
  "enable_publishing": false,
  "allow_symbol_change": false,
  "container_id": "tradingview_gold"
});
</script>



</body>
</html>
